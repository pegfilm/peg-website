<!DOCTYPE html>
<html lang="en">
    <style>
    @media (min-width: 900px) {
        #intro-screen { display: none !important; }
    }
</style>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peg Website</title>
    <link rel="stylesheet" href="style.css?v=1003">
</head>

<body>

<!-- ============================
     FULLSCREEN INTRO (with draggable car)
     ============================ -->
<div id="intro-screen">
    <img src="images/rugtemp2.jpeg" class="intro-bg">

    <div id="intro-header" class="twister-text">
        <h1 class="intro-name">Mike "Peg" Knauer</h1>
        <h2 class="intro-role">Assistant Director / Filmmaker</h2>
        <h3 class="intro-cities">NY / CHI / LA</h3>
    </div>

    <div id="slider-track"></div>

    <!-- ⭐ SLIDE TO ENTER TEXT -->
    <div id="slider-text" class="twister-text">
        <span class="c1">S</span>
        <span class="c2">L</span>
        <span class="c3">I</span>
        <span class="c4">D</span>
        <span class="c5">E</span>
        <span>&nbsp;</span>
        <span class="c6">T</span>
        <span class="c7">O</span>
        <span>&nbsp;</span>
        <span class="c8">E</span>
        <span class="c1">N</span>
        <span class="c2">T</span>
        <span class="c3">E</span>
        <span class="c4">R</span>
    </div>

    <!-- ⭐ DRAGGABLE CAR -->
    <img src="images/carmouse.png.webp" id="drag-car">
</div>


<!-- ============================
     ACTUAL HOMEPAGE CONTENT
     ============================ -->
<div class="homepage-container">

    <div class="left">
        <div class="image-wrapper">
            <img src="images/chatgpt_edit.jpg" class="full-img">
            <a href="ohio.html" class="ohio-hotspot"></a>
            <a href="recent.html" class="recent-hotspot"></a>
            <a href="documents/Peg_Knauer_AD_Resume_HeaderFix.pdf" class="resume-hotspot" target="_blank"></a>
            <a href="https://www.nobudge.com/wilk" class="creative-hotspot" target="_blank"></a>
            <a href="mailto:mikeknauer17@gmail.com" class="contact-hotspot"></a>
        </div>
    </div>

    <div class="right">
        <img src="images/26361732_331396884032889_543068210505711616_n.jpg" class="right-img">
        <p class="right-note">
            @pegfilm 2018<br>
            Mike "Peg" Knauer<br>
            1st AD / Filmmaker<br>
            Life is awesome!
        </p>
    </div>

</div>


<!-- ============================
     ANIMATED WAVE FOOTER
     ============================ -->
<div class="wave-footer">
    <div class="wave wave1"></div>
    <div class="wave wave2"></div>
    <div class="wave wave3"></div>
    <div class="wave wave4"></div>
</div>


<!-- ============================
     JAVASCRIPT (DESKTOP + MOBILE)
     ============================ -->
<script>

// ===============================
// DESKTOP — Skip intro instantly
// ===============================
if (window.innerWidth >= 900) {
    const intro = document.getElementById("intro-screen");

    // Fade it out smoothly
    intro.classList.add("hidden");

    // Remove intro after fade completes (optional, cleaner)
    setTimeout(() => {
        intro.style.display = "none";
    }, 900);
}

// ===============================
// MOBILE — Drag-to-enter (original)
// ===============================
const car = document.getElementById("drag-car");
const intro = document.getElementById("intro-screen");

let isDragging = false;
let startX = 0;
let currentX = 0;

// 40% unlock threshold
const finishLine = window.innerWidth * 0.40;

// START DRAG
car.addEventListener("pointerdown", (e) => {
    isDragging = true;
    startX = e.clientX - car.offsetLeft;
    car.setPointerCapture(e.pointerId);
});

// DRAG MOVEMENT
car.addEventListener("pointermove", (e) => {
    if (!isDragging) return;

    currentX = e.clientX - startX;

    if (currentX < 0) currentX = 0;
    if (currentX > window.innerWidth - car.offsetWidth) {
        currentX = window.innerWidth - car.offsetWidth;
    }

    car.style.left = currentX + "px";

    // SUCCESS — reached unlock
    if (currentX >= finishLine) {
        intro.classList.add("hidden");
        isDragging = false;

        setTimeout(() => {
            intro.style.display = "none";
        }, 900);
    }
});

// RELEASE — Not far enough → reset
car.addEventListener("pointerup", () => {
    if (!isDragging) return;
    isDragging = false;

    if (currentX < finishLine) {
        car.style.left = "20px";
    }
});

</script>

</body>
</html>
